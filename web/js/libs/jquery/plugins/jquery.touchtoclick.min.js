(function(a){if(!("ontouchstart" in window)){return}var b={isLocked:false,delayedUnlock:null,onClick:function(c){if(this.isLocked){c.stopPropagation();c.preventDefault()}},lock:function(){this.isLocked=true;var c=this;this.delayedUnlock=setTimeout(function(){c.unlock()},2000)},unlock:function(){this.isLocked=false;if(this.delayedUnlock){window.clearTimeout(this.delayedUnlock)}}};document.addEventListener("click",function(c){b.onClick(c)},true);a.event.special.click={delegateType:"click",bindType:"click",setup:function(g,f,e){var d=this;var c={handleEvent:function(h){switch(h.type){case"touchstart":this.onTouchStart(h);break;case"touchmove":this.onTouchMove(h);break;case"touchend":this.onTouchEnd(h);break}},onTouchStart:function(h){h.stopPropagation();this.moved=false;d.addEventListener("touchmove",this,false);d.addEventListener("touchend",this,false)},onTouchMove:function(h){this.moved=true},onTouchEnd:function(h){d.removeEventListener("touchmove",this,false);d.removeEventListener("touchend",this,false);if(!this.moved){b.unlock();var i=document.createEvent("MouseEvents");i.initEvent("click",true,true);h.target.dispatchEvent(i);b.lock();h.stopPropagation()}}};d.addEventListener("touchstart",c,false);a(d).data("touchToClick-handler",c);return false},teardown:function(e){var d=this;var c=a(d).data("touchToClick-handler");d.removeEventListener("touchstart",c,false);return false}}})(jQuery);